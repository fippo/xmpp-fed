


Network Working Group                                          M. Miller
Internet-Draft                                            P. Saint-Andre
Intended status: Standards Track                     Cisco Systems, Inc.
Expires: December 13, 2012                                  June 6, 2012

Interdomain Federation in the Extensible Messaging and Presence Protocol
                                 (XMPP)
                        draft-miller-xmpp-fed-00

Abstract

Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on December 13, 2012.

Copyright Notice

   Copyright (c) 2012 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (http://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Simplified BSD License text
   as described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Simplified BSD License.

Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  2
   2.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  2
   3.  Problem Statement  . . . . . . . . . . . . . . . . . . . . . .  2
   4.  Requirements . . . . . . . . . . . . . . . . . . . . . . . . .  2
   5.  Framework  . . . . . . . . . . . . . . . . . . . . . . . . . .  2
   6.  Validation Prooftypes  . . . . . . . . . . . . . . . . . . . .  2
     6.1.  PKI  . . . . . . . . . . . . . . . . . . . . . . . . . . .  2
     6.2.  DANE . . . . . . . . . . . . . . . . . . . . . . . . . . .  2

Miller & Saint-Andre              std                           [Page 1]

Internet-Draft              XMPP Federation                    June 2012

     6.3.  HTTPS/.well-known/ . . . . . . . . . . . . . . . . . . . .  2
     6.4.  Dialback Keys  . . . . . . . . . . . . . . . . . . . . . .  3
     6.5.  Other  . . . . . . . . . . . . . . . . . . . . . . . . . .  3
   7.  Assertions . . . . . . . . . . . . . . . . . . . . . . . . . .  3
   8.  Examples . . . . . . . . . . . . . . . . . . . . . . . . . . .  3
   9.  Internationalization Considerations  . . . . . . . . . . . . .  3
   10. IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  3
   11. Security Considerations  . . . . . . . . . . . . . . . . . . .  3
   12. References . . . . . . . . . . . . . . . . . . . . . . . . . .  3
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . .  4

1.  Introduction

   Because the Extensible Messaging and Presence Protocol (XMPP) is
   built upon a distributed client-server architecture [RFC6120], it has
   long included methods for establishing connections among servers on
   the network.  In XMPP, these server-to-server connections typically
   do not require pre-arranged peering agreements and thus are
   negotiated on an ad-hoc or as-needed basis.  Furthermore, to the
   extent that servers "trust" each other, such trust is established
   based on information obtained from the Domain Name System (DNS), the
   Public Key Infrastructure (PKI), or similar sources.  Since XMPP
   servers are associated with DNS domain names (or, less commonly, IP
   addresses), server-to-server connectivity is referred to as
   interdomain federation.  This document describes a model for
   interdomain federation and modernizes some federation methods to
   reflect progress in several underlying technologies, especially DNS
   Security [RFC4033].

2.  Terminology

   This document inherits XMPP-related terminology from [RFC6120] and
   [XEP-0220], DNS-related terminology from [RFC1034], [RFC1035],
   [RFC2782] and [RFC4033], and security-related terminology from
   [RFC4949] and [RFC5280].  The terms "source domain" and "derived
   domain" are used as defined in the "CertID" specification [RFC6125].

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   [RFC2119].

3.  Problem Statement

4.  Requirements

5.  Framework

6.  Validation Prooftypes

6.1.  PKI

6.2.  DANE

6.3.  HTTPS/.well-known/


Miller & Saint-Andre              std                           [Page 2]

Internet-Draft              XMPP Federation                    June 2012


   This prooftype relies on the existing trust for HTTPS to provide a
   delegation path from a source domain to a target host.

   1.  The initiating entity performs an HTTPS GET to the path "/.well-
       known/tls/<service>.<protocol>.<source-domain>" to the source
       domain (e.g.  "https://im.example.com/.well-known/tls/_xmpp-
       client._tcp.im.example.com")
   2.  The source domain HTTPS service SHOULD respond with a 302 Moved;
       the 'Location' header MUST specify an HTTPS URL that directs to
       the target host, and the path MUST be identical to the path of
       the original request (e.g.  "Location: https://
       hosting.example.com/.well-known/tls/_xmpp-
       client._tcp.im.example.com")
   3.  The initiating entity performs an HTTPS GET to the redirected URL
       specified in the 'Location' header
   4.  The target host HTTPS service MUST respond with a success status
       code, with the message body set to the PEM-encoded certificate to
       expect.

6.4.  Dialback Keys

6.5.  Other

7.  Assertions

8.  Examples

9.  Internationalization Considerations

10.  IANA Considerations

11.  Security Considerations

12.  References

   [RFC1034]  Mockapetris, P., "Domain names - concepts and facilities",
              STD 13, RFC 1034, November 1987.

   [RFC1035]  Mockapetris, P., "Domain names - implementation and
              specification", STD 13, RFC 1035, November 1987.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2782]  Gulbrandsen, A., Vixie, P. and L. Esibov, "A DNS RR for
              specifying the location of services (DNS SRV)", RFC 2782,
              February 2000.

   [RFC4033]  Arends, R., Austein, R., Larson, M., Massey, D. and S.
              Rose, "DNS Security Introduction and Requirements", RFC
              4033, May 2005.

   [RFC4949]  Shirey, R., "Internet Security Glossary, Version 2", RFC
              4949, August 2007.


Miller & Saint-Andre              std                           [Page 3]

Internet-Draft              XMPP Federation                    June 2012


   [RFC5280]  Cooper, D., Santesson, S., Farrell, S., Boeyen, S.,
              Housley, R. and W. Polk, "Internet X.509 Public Key
              Infrastructure Certificate and Certificate Revocation List
              (CRL) Profile", RFC 5280, May 2008.

   [RFC6120]  Saint-Andre, P., "Extensible Messaging and Presence
              Protocol (XMPP): Core", RFC 6120, March 2011.

   [RFC6125]  Saint-Andre, P. and J. Hodges, "Representation and
              Verification of Domain-Based Application Service Identity
              within Internet Public Key Infrastructure Using X.509
              (PKIX) Certificates in the Context of Transport Layer
              Security (TLS)", RFC 6125, March 2011.

   [XEP-0220]
              Miller, J, Saint-Andre, P and P Hancke, "Server Dialback",
              XSF XEP 0220, August 2011.

Authors' Addresses

   Matthew Miller
   Cisco Systems, Inc.
   1899 Wynkoop Street, Suite 600
   Denver, CO 80202
   USA
   
   Email: mamille2@cisco.com


   Peter Saint-Andre
   Cisco Systems, Inc.
   1899 Wynkoop Street, Suite 600
   Denver, CO 80202
   USA
   
   Email: psaintan@cisco.com




















Miller & Saint-Andre              std                           [Page 4]
